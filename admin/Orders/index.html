<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="../../styles/bootstrap.css" />
    <link
      rel="stylesheet"
      type="text/css"
      media="all"
      href="../../styles/daterangpicker-bs3.css"
    />
    <link rel="stylesheet" href="../../styles/style.css" />
   <link rel="stylesheet" href="../../styles/pdf.css" />
    <!-- <link rel="stylesheet" href="../Customer/admin-customer.css" /> -->
    <link rel="stylesheet" href="../Orders/admin-orders.css" />
    <title>Admin-ordrar</title>
  </head>

  <body>
    <nav>
      <nav class="navbar navbar-expand-xl navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="../index.html" id="nav-home">ADMIN</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- <form class="d-flex mx-lg-3 my-5 my-xl-0">
              <select
                class="form-select form-select-sm mx-22"
                aria-label=".form-select-sm example"
              >
                <option selected disabled>Välj...</option>
                <option value="1">Produktkatalog</option>
                <option value="2">Orderkatalog</option>
                <option value="3">Kundkatalog</option>
              </select>
              <input
                class="form-control mx-2"
                type="search"
                placeholder="Sök"
                aria-label="Sök"
                maxlength="50"
              />
              <button class="btn btn-outline-light mx-2" type="submit">
                Sök
              </button>
            </form>-->

            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../Products/index.html"
                  id="nav-products"
                  >Produkter</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../Orders/index.html" id="nav-orders">
                  Ordrar</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../Customer/index.html"
                  id="nav-customer"
                  >Kunder</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../VIP/index.html" id="nav-vip" hidden
                  >VIP</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="../Information/index.html"
                  id="nav-information"
                  >Webbsidans info</a
                >
              </li>
            </ul>
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link" href="../../index.html">Kundvy</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </nav>

    <div
      class="nav nav-tabs justify-content-center bg-secondary"
      id="nav-tab"
      role="tablist"
    >
      <button
        class="nav-link active"
        id="nav-profile-tab"
        data-bs-toggle="tab"
        data-bs-target="#nav-profile"
        type="button"
        role="tab"
        aria-controls="nav-profile"
        aria-selected="false"
      >
        Orderkatalog
      </button>
      <button
        class="nav-link"
        id="navbar-order-tab"
        data-bs-toggle="tab"
        data-bs-target="#nav-contact"
        type="button"
        role="tab"
        aria-controls="nav-contact"
        aria-selected="false"
      >
        Order
      </button>
    </div>

    <div class="tab-content" id="nav-tabContent">
      <div
        class="tab-pane fade show active"
        id="nav-profile"
        role="tabpanel"
        aria-labelledby="nav-profile-tab"
      >
        <div class="container p-4">
          <div class="row">
            <div class="header col-lg-6 col-md-12">
              <h2>Orderlista</h2>
            </div>
          </div>
          <div class="row">
            <div class="col col-md-12 col-lg-4 mb-md-3 mb-lg-0">
              <div class="datepicker">
                <form class="form-horizontal">
                  <fieldset>
                    <div class="control-group">
                      <div class="controls">
                        <div class="input-group input-group-prepend">
                          <span class="input-group-text"
                            ><svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="20"
                              height="20"
                              fill="currentColor"
                              class="bi bi-calendar3"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"
                              />
                              <path
                                d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
                              /></svg></span
                          ><input
                            type="text"
                            style="width: 200px"
                            name="reservation"
                            id="reservation"
                            class="form-control"
                            value="2021-04-01 - 2021-06-01"
                          />
                        </div>
                      </div>
                    </div>
                  </fieldset>
                </form>
              </div>
            </div>
            <div class="col-12 col-md-6 col-lg-4 my-3 mt-md-0">
              <select
                class="form-select"
                aria-label="Orderstatus"
                id="filter-order-status-selector"
              >
                <option selected value="NA">Orderstatus</option>
                <option value="1">Ohanterad</option>
                <option value="2">Plockas</option>
                <option value="3">Skickad</option>
                <option value="4">Avbeställd</option>
              </select>
            </div>
            <div class="col-12 col-md-6 col-lg-4 mb-3 mt-md-0">
              <select
                class="form-select"
                aria-label="Betalstatus"
                id="filter-payment-status-selector"
              >
                <option selected value="NA">Betalstatus</option>
                <option value="0">Obetald</option>
                <option value="1">Betald</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-sm-10 col-lg-11">
              <div class="input-group">
                <select
                  class="form-select"
                  id="search-options-selector"
                  aria-label="Example select with button addon"
                >
                  <option selected value="NA">Sök efter...</option>
                  <option value="order-number">Ordernummer</option>
                  <option value="total-price">Totalt pris över</option>
                </select>
                <input
                  class="form-control"
                  type="search"
                  placeholder="Sök"
                  aria-label="Search"
                  maxlength="50"
                  id="order-search-text"
                />
                <button class="btn btn-secondary" type="button" id="search-btn">
                  Sök
                </button>
              </div>
            </div>
            <div class="col-sm-1 col-12 col-lg-1 mb-lg-0 text-end text-sm-start mt-3 mt-sm-0 ">
              <button class="btn btn-secondary" type="button" id="reset-btn">
                Återställ
              </button>
            </div>
            <!-- <form class="form-inline my-2 my-lg-0 d-flex">
                      <label for="total-price" class="form-label">Pris</label>
                        <input class="form-control mx-2" type="search" placeholder="Sök" aria-label="Search" id="total-price">
                        <button type="button" class="btn btn-secondary" type="submit">Secondary</button>
                    </form> -->
          </div>
        </div>
        <div class="container">
          <table
            class="table table-secondary table-responsive table-sm table-hover table-condensed"
          >
            <thead>
              <tr>
                <th scope="col" class="pb-3 ps-md-5 col-2">Ordernr</th>
                <th scope="col" class="pb-3 ps-md-5">Kundnr</th>
                <th scope="col" class="pb-3">Datum</th>
                <th scope="col" class="pb-3">Totalt <small>kr</small></th>
                <th scope="col" class="pb-3">Orderstatus</th>
                <th scope="col" class="pb-3">Betalstatus</th>
              </tr>
            </thead>
            
            <tbody id="orders-container">
              
              <!-- <tr>
                    <th scope="row" class="ps-md-5"><a href="#">1234-4567</a> </th>
                    <th scope="row" class="ps-md-5"><a href="#">850216</a> </th>
                    <td>2021-01-20</td>
                    <td>135 kr</td>
                    <td>Levererad</td>
                    <td>Mottagen</td>
                </tr> -->
            </tbody>
          </table>
          
        </div>
      </div>
      <div
        class="tab-pane fade"
        id="nav-contact"
        role="tabpanel"
        aria-labelledby="nav-contact-tab"
      >
        <div class="row order-body gx-0 gx-lg-3">
          <div class="container col-lg-3 pb-5 order-last">
            <div class="container col-12 px-3 pb-5">
              <div class="customer-info mt-5">
                <div class="mb-5">
                  <h2>Kundinformation</h2>
                </div>
                <form>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-first-name" class="form-label"
                      >Förnamn</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Förnamn"
                      aria-label="Förnamn"
                      id="customer-first-name"
                      readonly
                      maxlength="50"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-last-name" class="form-label"
                      >Efternamn</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Efternamn"
                      aria-label="Efternamn"
                      id="customer-last-name"
                      readonly
                      maxlength="50"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-street-address" class="form-label"
                      >Address</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Address"
                      aria-label="Address"
                      id="customer-street-address"
                      readonly
                      maxlength="50"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-zipcode" class="form-label"
                      >Postnummer</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Postnummer"
                      aria-label="Postnummer"
                      id="customer-zipcode"
                      readonly
                      maxlength="6"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-city" class="form-label"
                      >Postort</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Postort"
                      aria-label="Postort"
                      id="customer-city"
                      readonly
                      maxlength="50"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-email" class="form-label"
                      >E-post</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="E-post"
                      aria-label="E-post"
                      id="customer-email"
                      readonly
                      maxlength="325"
                    />
                  </div>
                  <div class="col-lg-12 mb-3">
                    <label for="customer-phone-number" class="form-label"
                      >Telefonnummer</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Telefonnummer"
                      aria-label="Telefonnummer"
                      id="customer-phone-number"
                      readonly
                      maxlength="20"
                    />
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="container col col-lg-9 pb-5 pe-0">
            <div class="container col">
              <div
                class="product-info mt-5 container ms-xl-4 px-1 px-lg-0 ps-lg-5"
              >
                <div class="mb-5">
                  <h2>Produkter i ordern</h2>
                </div>

                <table
                  class="table table-secondary table-responsive table-smaller small-headings"
                >
                  <thead>
                    <tr>
                      <th scope="col" class="pb-3 ps-md-5">Artikelnr</th>
                      <th scope="col" class="pb-3 ps-md-5">Produktnamn</th>
                      <th scope="col" class="pb-3">Antal</th>
                      <th scope="col" class="pb-3">Pris <small>kr</small></th>
                      <th scope="col" class="pb-3">Totalt <small>kr</small></th>
                    </tr>
                  </thead>
                  <tbody id="product-container"></tbody>
                </table>
              </div>
              <div class="row">
                <!-- <div class="col col-8 text-end">
                  <button
                  type="submit"
                  class="btn btn-secondary save-button"
                  style="width: 100px"
                  id="update-quantity-btn"
                  >Uppdatera antal
                  </button>
                </div> -->
                <div class="col text-end pe-4 col-12" id="order-total-cost">
                  <p>Totalt: 0</p>
                </div>
              </div>

              <div class="row ps-lg-5">
                <div class="text mb-2 px-3 ms-xl-4 col-lg-6">
                  Orderstatus
                  <select
                    class="form-select"
                    aria-label="Orderstatus"
                    id="order-status"
                  >
                    <option selected disabled>Orderstatus</option>
                    <option value="1">Ohanterad</option>
                    <option value="2">Plockas</option>
                    <option value="3">Skickad</option>
                    <option value="4">Avbeställd</option>
                  </select>
                </div>
                <div class="text mb-2 px-3 ms-xl-4 col-lg-5">
                  Betalstatus
                  <select
                    class="form-select"
                    aria-label="Paymentstatus"
                    id="payment-status"
                  >
                    <option selected disabled>Betalstatus</option>
                    <option value="true">Betald</option>
                    <option value="false">Obetald</option>
                  </select>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <p
                    class="lead fw-bold mt-4 ms-lg-5 mb-5 px-3 px-lg-0"
                    id="order-sent-date-field"
                  ></p>
                </div>
              </div>
            </div>
            <div class="container">
              <div class="container col-12 pt-3 ps-3 ps-lg-5">
                <h2>Kundkommentar</h2>
              </div>
              <div class="container col px-3 ps-lg-5 pe-lg-0">
                <textarea
                  class="form-control"
                  name=""
                  id="customer-comment"
                  rows="10"
                  placeholder=""
                  style="height: 100px"
                  readonly
                ></textarea>
            </div>
            <div class="container ps-lg-5 px-3 px-lg-0 pt-3 pt-5">
              <h2>Ändringar</h2>
              <ul class="list-group" id="order-changes">
            </ul>
          </div>
            <div class="container col-12 pt-5 ps-3 ps-lg-5">
              <h2>Lägg till kommentar</h2>
            </div>
            <div class="container col px-3 ps-lg-5 pe-lg-0">
              <textarea
                class="form-control"
                name=""
                id="add-comment-field"
                rows="10"
                placeholder=""
                style="height: 150px"
                maxlength="250"
              ></textarea>
              <div class="container mt-5">
                <button
                  type="submit"
                  class="btn btn-secondary save-button"
                  style="width: 100px"
                  id="save-order-btn"
                >Spara
                </button>
                <button
                class="btn btn-secondary save-button"
                style="width: 100px"
                id="generate-pdf"
              >PDF
              </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

     <!-- PDF MODAL START -->
    <div class="modal fade" id="pdf-modal">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
          <div id="pdf" class="modal-body">
            <div >
              <header class="header-pdf clearfix">
                  <div id="logo">
                      <img src="../../logo.png"/>
                  </div>
                  
                  <h1 class="h1-pdf">Faktura</h1>
                  <div class="row mb-5">
                    
                    <div class="col-xl-2">
                      <div id="customer">
                        <div>Ordernummer:</div>         
                        <div>Kundnamn:</div>                           
                        <div>Leveransadress:</div>  
                        <div>&nbsp;</div>                        
                        <div>Email:</div>
                    </div>
                    </div>
                    <div class="col-xl-6">
                      <div id="customer">
                        <div id="orderNumber"></div>
                        <div id="fullName"></div>
                        <div>
                            
                          <div id="address"></div>
                          <div id="zip"></div>
                          <div id="city"></div>
                        
                        </div>
                        <div id="email"></div>
                      </div>
                    </div>
                    <div class="col-xl-2 ps-2">
                      <div id="project">
                        <div>
                            Fakturanummer:                            
                        </div>
                        <div>
                            Fakturadatum:                            
                        </div>
                        <div>
                            Leveransdatum:                           
                        </div>
                        <div>
                            Betalningsvillkor                            
                        </div>
                        <div>
                            Förfallodatum:                            
                        </div>
                        <div>
                            Dröjsmålsränta:                           
                        </div>
                     </div>
                    </div>
                    <div class="col-xl-2">
                      <div id="invoiceNumber"></div>
                      <div id="invoiceDate"></div>
                      <div id="deliveryDate"></div> 
                      <div>14 dagar</div> 
                      <div id="dueDate"></div>
                      <div>7,5%</div>
                    </div>
                    
                  </div>
                  
                  
              </header>
                  <table class="table-pdf">
                      <thead>
                          <tr>
                              <th class="th-pdf">Artikelnummer</th>
                              <th class="th-pdf">Produktnamn</th>
                              <th class="th-pdf">Pris kr/st</th>
                              <th class="th-pdf">Antal</th>
                              <th class="th-pdf">Totalt kr</th>
                          </tr>
                      </thead>
                      <tbody id="line-items"></tbody>
                      <tbody id="table-footer"></tbody>
                      
                  </table>
                  <div class="vat-container"></div>
              
              
          </div>
          <div class="modal-footer modal-footer-info"></div>
          </div>
          
         
            <button type="button" class="btn btn-dark" id="save-pdf">
              Save pdf
            </button>

        </div>
      </div>
    </div>
    <!-- PDF MODAL END -->
  
    <script>
      let customer = JSON.parse(sessionStorage.getItem("customer"));
      if (
        customer == null ||
        customer == undefined ||
        customer.isAdmin == false
      ) {
        window.location.href = "../../";
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js"
    integrity="sha512-w3u9q/DeneCSwUDjhiMNibTRh/1i/gScBVp2imNVAMCt6cUHIw6xzhzcPFIaL3Q1EbI2l+nu17q2aLJJLo4ZYg=="
    crossorigin="anonymous">
    </script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../../js/validate.js"></script>    
    <script type="text/javascript" src="../../admin/pdf/pdf.js"></script>
    <script type="text/javascript" src="../../js/moment.js"></script>
    <script type="text/javascript" src="../../js/daterangpicker.js"></script>
    <script src="../../js/admin-orders.js"></script>
  </body>
</html>
